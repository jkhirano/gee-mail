<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
				// We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

// For loops to show all emails by date, sender, subject and body				
for (var i = 0; i<geemails.length; i++){

var emailBox = document.createElement('div');
emailBox.className = 'msgDiv';
document.body.appendChild(emailBox);

var dateBox = document.createElement('div');
dateBox.className = 'header';
dateBox.innerHTML = geemails[i].date;
emailBox.appendChild(dateBox);

var senderBox = document.createElement('div');
senderBox.className = 'header';
senderBox.innerHTML = geemails[i].sender;
emailBox.appendChild(senderBox);

var subjectBox = document.createElement('div');
subjectBox.className = 'header';
subjectBox.innerHTML = geemails[i].subject;
emailBox.appendChild(subjectBox);

var bodyBox = document.createElement('div');
bodyBox.className = 'inner';
bodyBox.innerHTML = geemails[i].body;
subjectBox.appendChild(bodyBox);
}

// grab by class
var contentBox = document.getElementsByClassName('header');

// add event
for (var i = 0; i<contentBox.length; i++){
	contentBox[i].addEventListener('click', showContents);
}

// add function
function showContents(){
	var contents = this.querySelector('.inner');
	if(contents.style.display === 'block'){contents.style.display = 'none';
  }else{
  contents.style.display = 'block';
  }
}


// Inbox counter:
	var counter = document.createElement('div');
	counter.className = 'boxCount';
	counter.innerHTML = geemails.length;
	document.body.appendChild(counter);
	

// Generation of new emails:

setInterval(function(){

var msg = getNewMessage();

var msgBox = document.createElement('div');
	msgBox.className = 'msgDiv';
	document.body.appendChild(msgBox);

	var newBox1 = document.createElement('div');
	newBox1.className = 'header';
	newBox1.innerHTML = msg.date;
	msgBox.appendChild(newBox1);

	var newBox2 = document.createElement('div');
	newBox2.className = 'header';
	newBox2.innerHTML = msg.sender;
	msgBox.appendChild(newBox2);

	var newBox3 = document.createElement('div');
	newBox3.className = 'header';
	newBox3.innerHTML = msg.subject;
	msgBox.appendChild(newBox3);

	var newBox4 = document.createElement('div');
	newBox4.className = 'body';
	newBox4.innerHTNL = msg.body;
	newBox3.appendChild(newBox4);

counter.innerHTML = ++geemails.length;

}, 3000);


};
  </script>
	</head>
	<body>

		<h1>GeeMail</h1>

		<!-- <div class = "inboxCount">
		<i class = "fas fa-inbox"></i>
		</div> -->

	</body>
</html>